<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.uptang.cloud.score.repository.ScoreRepository">

    <resultMap id="ResultMap" type="com.uptang.cloud.score.common.model.Score">
        <id property="id" column="id"/>
        <result property="type" column="type"/>
        <result property="subject" column="subject"/>
        <result property="scoreText" column="score_text"/>
        <result property="scoreNumber" column="score_number"/>
    </resultMap>

    <!--字段名 Java属性名-->
    <sql id="columns">
        `id` AS `id`, `type` AS `type`, `subject` AS `subject`,
        `score_text` AS `scoreText`, `score_number` AS `scoreNumber`
    </sql>

    <!--新增并返回新增的ID-->
    <insert id="batchInsert" keyProperty="id" useGeneratedKeys="true"
            parameterType="com.uptang.cloud.score.common.model.Score">
        INSERT INTO logic_score (`type`,`subject`,`score_text`,`score_number`) VALUES
        <foreach collection="list" item="item" index="index" separator=",">
            <trim suffixOverrides="," prefix="(" suffix=")">
                #{item.type},#{item.subject},#{item.scoreText},#{item.scoreNumber}
            </trim>
        </foreach>
    </insert>

    <delete id="batchDelete">
        DELETE FROM logic_score WHERE id IN
        <foreach collection="ids" item="item" index="index" separator="," open="(" close=")">
            #{item}
        </foreach>
        AND type=#{scoreType}
    </delete>
</mapper>